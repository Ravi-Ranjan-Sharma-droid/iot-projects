!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("nipplejs",[],i):"object"==typeof exports?exports.nipplejs=i():t.nipplejs=i()}(window,(function(){return function(t){var i={};function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(o,n,function(i){return t[i]}.bind(null,n));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);var o,n=function(t,i){var e=i.x-t.x,o=i.y-t.y;return Math.sqrt(e*e+o*o)},s=function(t){return t*(Math.PI/180)},r=function(t){return t*(180/Math.PI)},c=function(t,i,e){for(var o,n=i.split("."),s=0,r=n.length;s<r&&t&&(o=t[n[s]],void 0!==o);s+=1)s===r-1&&e&&(t[n[s]]=e);return o},a=function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t},p=function(t,i){if(t.length)for(var e=0,o=t.length;e<o;e+=1)i(t[e]);else i(t)},d=!!function(){var t=document.createElement("div");return t.setAttribute("ongesturestart","return;"),"function"==typeof t.ongesturestart}(),l={};function h(t,i){this.identifier=i.identifier,this.position=i.position,this.frontPosition=i.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(i),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=h.id,h.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance.ui.position=this.instance.position,this.instance.ui.frontPosition=this.instance.frontPosition,this.manager=i.manager,this.manager.nipples.push(this),this.buildHtml(),this.manager.trigger("added "+this.id+":added",this.instance),this.trigger("added",this.instance),this.on("removed",h.onRemoved),this.on("destroy",h.onDestroyed),this.on("shown hidden rested dir plain",h.onEvent),this.on("dir:up dir:right dir:down dir:left",h.onDirection)}h.prototype=new o,h.constructor=h,h.id=0,h.onEvent=function(t,i){"dir"!==t&&"plain"!==t&&"up"!==t&&"down"!==t&&"right"!==t&&"left"!==t||i.position&&this.trigger("dir plain",i.position)},h.onDirection=function(t,i){this.trigger(t.split(":")[1],i)},h.onRemoved=function(t,i){i.off&&i.off()},h.onDestroyed=function(t,i){i.off&&i.off()},h.prototype.prepareNipples=function(){var t=this.manager.options;t.dataOnly||(p(this.manager.nipples,(function(i){i.el.style.display="none",i.el.style.visibility="hidden"})),this.on("destroyed",t.mode!==h.POSITIONS.DYNAMIC?this.manager.removeNipple:function(t,i){this.manager.trigger("removed "+i.id+":removed",i),this.manager.nipples.splice(this.manager.nipples.indexOf(i),1)}))},h.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},h.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",i=function(t,i){var e=c(t,i);return e&&e.replace(/\s/g,"").length?e:0}(this.options,"size")||this.options.size+"px",e=c(this.options,"position")||"absolute",o=function(t,i){var e=c(t,i);return e&&e.replace(/\s/g,"").length?e:"dynamic"===t.mode?"absolute":"relative"}(this.options,"mode"),n=function(t,i){var e=c(t,i);return e?e:"circle"===t.shape?"50%":"0"}(this.options,"borderRadius");return this.ui.el.style.position=o,this.ui.el.style.width=i,this.ui.el.style.height=i,this.ui.el.style.minWidth="0",this.ui.el.style.minHeight="0",this.ui.el.style.padding="0",this.ui.el.style.display="block",this.ui.el.style.overflow="hidden",this.ui.front.style.width="100%",this.ui.front.style.height="100%",this.ui.back.style.width="100%",this.ui.back.style.height="100%",this.ui.front.style.position=e,this.ui.back.style.position=e,this.ui.front.style.borderRadius=n,this.ui.back.style.borderRadius=n,this.ui.front.style.background=this.options.color,this.ui.front.style.opacity="0",this.ui.back.style.opacity="0",this.ui.front.style.transition="opacity "+t,this.ui.back.style.transition="opacity "+t,this},h.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},h.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},h.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},h.prototype.show=function(t){var i=this;return i.options.dataOnly?i:(clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.addToDom(),i.restCallback(),setTimeout((function(){i.ui.el.style.opacity="1"}),0),i.showTimeout=setTimeout((function(){i.trigger("shown",i.instance),"function"==typeof t&&t.call(this)}),i.options.fadeTime),i)},h.prototype.hide=function(t){var i=this;return i.options.dataOnly?i:(i.ui.el.style.opacity=i.options.restOpacity,clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.removeTimeout=setTimeout((function(){var e="dynamic"===i.options.mode?"none":"block";i.ui.el.style.display=e,"function"==typeof t&&t.call(i),i.trigger("hidden",i.instance)}),i.options.fadeTime),i.options.restJoystick&&i.restPosition(),i)},h.prototype.restPosition=function(t){var i=this;i.frontPosition={x:0,y:0};var e=i.options.fadeTime+"ms";return i.ui.front.style.transition="all "+e,i.ui.front.style.transform="translate(0px, 0px)",i.restTimeout=setTimeout((function(){"function"==typeof t&&t.call(i),i.restCallback()}),i.options.fadeTime),i},h.prototype.restCallback=function(){var t=this,i={};i.x=0,i.y=0,t.trigger("rested",i),t.frontPosition={x:0,y:0},t.trigger("rested "+t.id+":rested",i)},h.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},h.prototype.computeDirection=function(t){var i,e,o,n=t.angle.radian,s=Math.PI/4,c=Math.PI/2;if(n>s&&n<3*s&&!t.lockX?i="up":n>-s&&n<=s&&!t.lockY?i="left":n>3*-s&&n<=-s&&!t.lockX?i="down":t.lockY||(i="right"),t.lockY||(e=n>-c&&n<c?"right":"left"),t.lockX||(o=n>0?"up":"down"),t.force>this.options.threshold){var a={};for(var p in this.direction)this.direction.hasOwnProperty(p)&&(a[p]=this.direction[p]);var d={};this.direction={x:e,y:o,angle:i},t.direction=this.direction;for(var p in this.direction)this.direction[p]!==a[p]&&(d[p]=!0);if(d.x||d.y||d.angle)this.trigger("dir dir:"+i,t);else if(this.trigger("plain",t),!this.options.lockX&&!this.options.lockY){var l="up"===o?"down":"up",h="left"===e?"right":"left";this.trigger("plain:"+("up"===o?"down":"up"),t),this.trigger("plain:"+("left"===e?"right":"left"),t)}}else this.resetDirection();return this},h.prototype.trigger=function(t,i){var e=this,o=t.split(" ");return p(o,(function(t){if(e.manager.ids.indexOf(e.identifier)>=0){var o=t.split(":")[0];c(i,"type",o),e.manager.trigger(t+" "+e.id+":"+t,i)}})),e},h.prototype.on=function(t,i){var e=this,o=t.split(" ");return p(o,(function(t){e.manager.on(t+" "+e.id+":"+t,i)})),e},h.prototype.off=function(t,i){var e=this,o=t.split(" ");return p(o,(function(t){e.manager.off(t+" "+e.id+":"+t,i)})),e},h.prototype.config=function(t){this.options=a({},this.defaults,t),this.options.mode=this.options.mode||"dynamic",this.options.position=this.options.position||{top:0,left:0},this.options.zone=document.querySelector(this.options.zone)||document.body,this.options.size=parseInt(this.options.size,10)||100,this.options.threshold=parseFloat(this.options.threshold)||.1,this.options.color=this.options.color||"white",this.options.fadeTime=parseInt(this.options.fadeTime,10)||250,this.options.dataOnly=this.options.dataOnly||!1,this.options.restJoystick=void 0===this.options.restJoystick||this.options.restJoystick,this.options.restOpacity=this.options.restOpacity||.5,this.options.shape=this.options.shape||"circle",this.options.lockX=this.options.lockX||!1,this.options.lockY=this.options.lockY||!1;var i=this.options.position;"object"!=typeof i&&(i={}),i.top=void 0!==i.top?i.top:0,i.left=void 0!==i.left?i.left:0,this.options.position=i},h.prototype.bindEvt=function(t,i){var e=this;return t.addEventListener?(t.addEventListener(i,function(){e["on"+i].apply(e,arguments)},{passive:!1}),e):(console.warn("Not using addEventListener, please use latest version of PointerEvent polyfill."),e)},h.prototype.unbindEvt=function(t,i){var e=this;return t.removeEventListener?(t.removeEventListener(i,function(){e["on"+i].apply(e,arguments)},{passive:!1}),e):(console.warn("Not using addEventListener, please use latest version of PointerEvent polyfill."),e)},h.prototype.computePosition=function(t){return this.position={x:t.clientX,y:t.clientY},this.backPosition={x:this.position.x-this.offset.x,y:this.position.y-this.offset.y},this},h.prototype.computeFrontPosition=function(t){var i=this.options.size/2;if(t=t||this.backPosition,!t)return this;var e={};return e={x:t.x-i,y:t.y-i},this.frontPosition=e,this},h.prototype.onstart=function(t){if(t=t.changedTouches?t.changedTouches[0]:t,this.manager.nippleId!==this.id)return!1;if(!this.manager.processOnStart)return!1;if(this.options.dataOnly)return void this.trigger("start",t);this.show(),this.manager.processOnStart=!1,this.resetDirection();var i=this.options.size/2;this.position={x:t.clientX,y:t.clientY},this.offset={x:this.position.x-this.backPosition.x,y:this.position.y-this.backPosition.y},this.frontPosition={x:this.offset.x-i,y:this.offset.y-i},this.manager.updateBox(),this.trigger("start",{x:this.offset.x-i,y:this.offset.y-i,identifier:this.identifier})},h.prototype.onmove=function(t){if(t=t.changedTouches?t.changedTouches[0]:t,this.manager.nippleId!==this.id)return!1;if(!this.manager.processOnMove)return!1;var i=this.options.size/2,e={x:t.clientX-this.offset.x,y:t.clientY-this.offset.y},o=n({x:0,y:0},e),s=o/i,r=s>1?1:s;this.computeFrontPosition(e);var c={identifier:this.identifier,position:e,force:r,pressure:t.force||t.pressure||t.webkitForce||0,distance:o,angle:{radian:Math.atan2(e.y,e.x),degree:r(Math.atan2(e.y,e.x))},instance:this,lockX:this.options.lockX,lockY:this.options.lockY};c=this.computeDirection(c),c.angle={radian:s(180-c.angle.degree),degree:180-c.angle.degree},this.trigger("move",c),this.manager.processOnMove=!1},h.prototype.onend=function(t){if(t=t.changedTouches?t.changedTouches[0]:t,this.manager.nippleId!==this.id)return!1;if(this.manager.processOnEnd)return this.options.dataOnly?void this.trigger("end",{identifier:this.identifier}):(this.hide(),this.trigger("end",{identifier:this.identifier}),void(this.manager.processOnEnd=!1))},h.prototype.mapClientRect=function(t){return{top:t.top,right:t.right,bottom:t.bottom,left:t.left}},h.DEFAULTS={color:"white",size:100,threshold:.1,fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},h.POSITIONS={FRONT:"front",BACK:"back"},l.create=function(t){return new l(t)},l.factory=l.create,l.version="0.9.0",l.id=0,l.THRESHOLD=.1,l.DEFAULTS={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},l.prototype.on=function(t,i){var e=this,o=t.split(" ");return p(o,(function(t){e.handlers[t]=e.handlers[t]||[],e.handlers[t].push(i)})),e},l.prototype.off=function(t,i){var e=this;if(this.handlers[t]&&i){var o=this.handlers[t].indexOf(i);o>=0&&this.handlers[t].splice(o,1)}else t?this.handlers[t]={}:this.handlers={};return e},l.prototype.once=function(t,i){var e=this;return e.on(t,(function o(){i.apply(e,arguments),e.off(t,o)})),e},l.prototype.trigger=function(t,i){var e=this,o=t.split(" ");return p(o,(function(t){t=t.split(":"),i=i||{},i.type=t[0],e.handlers[t[0]]&&e.handlers[t[0]].length&&p(e.handlers[t[0]],(function(o){o.call(e,i)})),t[1]&&e.handlers[t[1]]&&e.handlers[t[1]].length&&p(e.handlers[t[1]],(function(o){o.call(e,i)}))})),(e.handlers.destroyed&&"destroyed"!==t||e.handlers["*"]&&"*"!==t)&&e.trigger("*",i),e},l.prototype.prepareNipples=function(){var t=this,i=t.nipples;i.on=t.on.bind(t),i.off=t.off.bind(t),i.options=t.options,i.destroy=t.destroy.bind(t),i.ids=t.ids,i.id=t.id,i.processOnMove=t.processOnMove.bind(t),i.processOnEnd=t.processOnEnd.bind(t),i.get=function(t){if(void 0===t)return i[0];for(var e=0,o=i.length;e<o;e+=1)if(i[e].identifier===t)return i[e];return!1}},l.prototype.bindings=function(){var t=this;t.bindEvt(t.options.zone,"start"),t.options.zone.style.touchAction="none",t.options.zone.style.msTouchAction="none"},l.prototype.begin=function(){var t=this,i=t.options;if("static"===i.mode){var e=t.createNipple(i.position,t.manager.getIdentifier());e.add(),t.idles.push(e)}},l.prototype.createNipple=function(t,i){var e=this,o={},n=e.options;if(t.x&&t.y)o={x:t.x-(n.size/2),y:t.y-(n.size/2)};else if(t.top||t.right||t.bottom||t.left){var s=document.createElement("DIV");s.style.display="hidden",s.style.top=t.top,s.style.right=t.right,s.style.bottom=t.bottom,s.style.left=t.left,s.style.position="absolute",n.zone.appendChild(s);var r=s.getBoundingClientRect();n.zone.removeChild(s),o={x:r.left+(n.size/2),y:r.top+(n.size/2)}}var c=new h(e,{color:n.color,size:n.size,threshold:n.threshold,fadeTime:n.fadeTime,dataOnly:n.dataOnly,restJoystick:n.restJoystick,restOpacity:n.restOpacity,mode:n.mode,identifier:i,position:t,zone:n.zone,frontPosition:{x:0,y:0},shape:n.shape});return n.dataOnly||(a(o,{position:"absolute",opacity:n.restOpacity,display:"block",zIndex:999}),c.ui.el.style.position=o.position,c.ui.el.style.opacity=o.opacity,c.ui.el.style.display=o.display,c.ui.el.style.zIndex=o.zIndex,c.ui.front.style.marginLeft="0px",c.ui.front.style.marginTop="0px",c.ui.back.style.marginLeft="0px",c.ui.back.style.marginTop="0px",a(c.ui.el.style,{top:o.y+"px",left:o.x+"px"})),c},l.prototype.updateBox=function(){var t=this,i=t.options;if(t.box=t.options.zone.getBoundingClientRect(),t.boxTransform=c(t.options.zone,"transform")){var e=t.options.zone.style.transform;"none"===e&&(e="");var o=new WebKitCSSMatrix(e);t.boxTransformOrigin=c(t.options.zone,"transform-origin").split(" ").map((function(t){return parseInt(t,10)})),t.boxTransformOrigin[0]+=t.box.left,t.boxTransformOrigin[1]+=t.box.top;var n=new WebKitCSSMatrix;n.m11=n.m22=1/o.m11,t.boxTransformInvert=n}i.dynamicPage&&(t.scroll=function(){var t=window.scrollX!==void 0?window.scrollX:window.pageXOffset,i=window.scrollY!==void 0?window.scrollY:window.pageYOffset;return{x:t,y:i}}())},l.prototype.destroy=function(){var t=this;t.unbindEvt(t.options.zone,"start"),p(t.nipples,(function(t){t.destroy()})),t.trigger("destroyed",t.nipples),t.manager.unbindDocument(),t.off()},l.prototype.onstart=function(t){var i=this,e=i.options,o=t;if(t=d?t:o.touches?o.touches[0]:o,!o.touches||!o.touches.length>1||o.scale&&1!==o.scale)return o.touches&&o.touches.length>=1&&e.multitouch?void i.processOnStart(t):o.touches&&!e.multitouch?void i.trigger("start",o.changedTouches[0]):void i.processOnStart(t)},l.prototype.processOnStart=function(t){var i,e=this,o=e.options,s=e.manager.getIdentifier(t),r=t.target||t.srcElement,c=r.getBoundingClientRect();if("target"!==o.position){var a=e.box;i={x:t.pageX-(a.left+window.scrollX),y:t.pageY-(a.top+window.scrollY)}}else i={x:t.clientX-c.left,y:t.clientY-c.top};var p=e.getOrCreate(s,i);p.identifier!==s&&e.manager.removeIdentifier(p.identifier),p.identifier=s;var d=function(t){var i=e.options;if(i.follow){var o=e.nipples.indexOf(t),s=e.nipples[o];s.el.style.position="absolute",i.dynamicPage?(e.updateBox(),a(s.el.style,{left:t.position.x+e.scroll.x+"px",top:t.position.y+e.scroll.y+"px"})):(s.el.style.left=t.position.x+"px",s.el.style.top=t.position.y+"px"),e.trigger("follow",s)}};e.ids.indexOf(s)>=0?e.processOnMove(t):e.manager.processOnStart(s,function(){e.ids.push(s),e.trigger("added "+s+":added",p),e.manager.trigger("added "+s+":added",p),e.bindEvt(e.options.doc,"move",s),e.bindEvt(e.options.doc,"end",s),p.show(),e.trigger("start "+s+":start",p),e.manager.trigger("start "+s+":start",p),e.processOnMove(t),d(p)}),e.manager.bindDocument()},l.prototype.getOrCreate=function(t,i){var e,o=this,s=o.options,r=o.nipples,c=o.idles,a=r.length;if(e=c.length?c.pop():o.createNipple(i,t),e.identifier=t,-1===o.nippleIndex(e)&&o.nipples.push(e),o.trigger("added "+t+":added",e),o.manager.trigger("added "+t+":added",e),o.bindEvt(s.doc,"move",t),o.bindEvt(s.doc,"end",t),a===0)return e;var p=n(i,r[0].position);if(p<=s.catchDistance)return r[0];return e},l.prototype.nippleIndex=function(t){var i=this.nipples,e=i.indexOf(t);return e>=0?e:-1},l.prototype.processOnMove=function(t){var i=this,e=i.options,o=i.manager.getIdentifier(t),s=i.nipples.get(o);if(!s)return console.error("Found zombie joystick with ID "+o),void i.manager.removeIdentifier(o);if(i.nippleIndex(s)<0)return console.error("Joystick with ID "+o+" is not in collection"),void i.manager.removeIdentifier(o);i.ids.indexOf(o)<0&&i.ids.push(o),i.processOnMove.attempts=0,s.identifier=o;var r=t.clientX,c=t.clientY;if(e.dynamicPage){var a=i.scroll||{x:0,y:0};r-=i.box.left+a.x,c-=i.box.top+a.y}else r-=i.box.left,c-=i.box.top;var p={x:r,y:c};if(i.boxTransform){var d=new WebKitCSSMatrix;d.m11=d.m22=i.boxTransform.m11,d.m12=i.boxTransform.m12,d.m21=i.boxTransform.m21,p=function(t,i,e){var o=i[0],n=i[1],s=new WebKitCSSMatrix;return s.m41=t.x-o,s.m42=t.y-n,s=e.multiply(s),{x:s.m41+o,y:s.m42+n}}(p,i.boxTransformOrigin,d)}s.position=p,i.manager.processOnMove(o,function(){s.trigger("move",s.position)})},l.prototype.processOnEnd=function(t){var i=this,e=i.options,o=i.manager.getIdentifier(t),n=i.nipples.get(o),s=i.manager.removeIdentifier(n.identifier);n&&(i.nippleIndex(n)>=0&&(i.ids.splice(i.ids.indexOf(n.identifier),1),i.trigger("removed "+n.identifier+":removed",n),i.manager.trigger("removed "+n.identifier+":removed",n),i.unbindEvt(e.doc,"move",n.identifier),i.unbindEvt(e.doc,"end",n.identifier),i.nipples.splice(i.nippleIndex(n),1)),i.manager.processOnEnd(o,function(){n.hide(function(){"dynamic"===e.mode&&(n.trigger("removed",n),i.trigger("removed "+n.identifier+":removed",n),i.manager.trigger("removed "+n.identifier+":removed",n),n.destroy(),i.idles.push(n))}),s&&clearInterval(s.timer),i.manager.unbindDocument()}))},l.prototype.bindEvt=function(t,i,e){var o,n=this,s="";
var content2 = "function(){n["on"+i].apply(n,arguments)}";return void 0!==e&&(s=s.replace(/\(\)/,"("+e+")"),o=function(t){if(t=d?t:window.event,t.identifier=e,n["on"+i])return n["on"+i].call(n,t)},o.id=e),t.addEventListener?t.addEventListener(i,o||s,!1):t.attachEvent&&t.attachEvent("on"+i,o||s),n},l.prototype.unbindEvt=function(t,i,e){var o,n=this,s="function(){n["on"+i].apply(n,arguments)}";return void 0!==e&&(s=s.replace(/\(\)/,"("+e+")"),o=function(t){return t.identifier=e,n["on"+i].call(n,t)}),t.removeEventListener?t.removeEventListener(i,o||s,!1):t.detachEvent&&t.detachEvent("on"+i,o||s),n},l.prototype.onmove=function(t){return this.onAny("move",t),!1},l.prototype.onend=function(t){return this.onAny("end",t),!1},l.prototype.oncancel=function(t){return this.onAny("end",t),!1},l.prototype.onAny=function(t,i){var e,o=this,n="processOn"+t.charAt(0).toUpperCase()+t.slice(1);return i=d?i:window.event,i.touches?i.touches.length>0?e=i.touches[0]:i.changedTouches&&i.changedTouches.length>0&&(e=i.changedTouches[0]):e=i,e.identifier=e.identifier||i.pointerId||0,o[n](e),i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),!1},o=function(){this.handlers={}},o.prototype.on=function(t,i){var e=this;return e.handlers[t]=e.handlers[t]||[],e.handlers[t].push(i),e},o.prototype.off=function(t,i){var e=this;return e.handlers[t]&&i?void e.handlers[t].splice(e.handlers[t].indexOf(i),1):t?void(e.handlers[t]=[]):void(e.handlers={})},o.prototype.trigger=function(t,i){var e=this,o=t.split(" ");return p(o,(function(t){e.handlers[t]&&e.handlers[t].length&&p(e.handlers[t],(function(o){o.call(e,{type:t,target:e},i)}))})),e};var u=l;i.default=u}]).default}));